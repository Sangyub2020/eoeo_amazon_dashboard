# ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ êµ¬ì¡° ì„¤ëª…

## ğŸ“‹ ëª©ì°¨
1. [í…Œì´ë¸” êµ¬ì¡°](#í…Œì´ë¸”-êµ¬ì¡°)
2. [ë·°(View)ë€ ë¬´ì—‡ì¸ê°€?](#ë·°viewë€-ë¬´ì—‡ì¸ê°€)
3. [ë°ì´í„° íë¦„](#ë°ì´í„°-íë¦„)
4. [ê´€ê³„ë„](#ê´€ê³„ë„)

---

## í…Œì´ë¸” êµ¬ì¡°

### 1. `product_master` (ì œí’ˆ ë§ˆìŠ¤í„° í…Œì´ë¸”)

**ëª©ì **: íšŒì‚¬ ë‚´ë¶€ ì œí’ˆ ì½”ë“œ(Internal Code) ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ì±„ë„ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì •ë³´ë¥¼ ì €ì¥

**ì£¼ìš” í•„ë“œ**:
- `id`: UUID (ìë™ ìƒì„±)
- `internal_code`: íšŒì‚¬ ë‚´ë¶€ ì œí’ˆ ì½”ë“œ (ê³ ìœ ê°’, í•„ìˆ˜)
- `barcode`: ë°”ì½”ë“œ (ì„ íƒ)
- `product_name`: ì œí’ˆëª… (í•„ìˆ˜)
- `company_name`: íšŒì‚¬ëª… (ì„ íƒ)
- `brand_name`: ë¸Œëœë“œëª… (ì„ íƒ)
- `created_at`, `updated_at`: ìƒì„±/ìˆ˜ì • ì‹œê°„

**íŠ¹ì§•**:
- ëª¨ë“  ì±„ë„ì—ì„œ ë™ì¼í•œ ì œí’ˆì„ ë‚˜íƒ€ë‚´ëŠ” ê¸°ì¤€ì 
- ì˜ˆ: "PROD-001"ì€ Amazon, TikTok Shop, Shopify ëª¨ë‘ì—ì„œ ê°™ì€ ì œí’ˆ

---

### 2. `sku_master` (SKU ë§ˆìŠ¤í„° í…Œì´ë¸”)

**ëª©ì **: ê° ì±„ë„ë³„ë¡œ ë‹¤ë¥¸ SKUì™€ ì±„ë„ë³„ íŠ¹í™” ì •ë³´ë¥¼ ì €ì¥

**ì£¼ìš” í•„ë“œ**:
- `id`: UUID (ìë™ ìƒì„±)
- `internal_code`: ì œí’ˆ ë§ˆìŠ¤í„° ì°¸ì¡° (ì„ íƒ, `product_master`ì™€ ì—°ê²°)
- `sku`: ì±„ë„ë³„ SKU (ê³ ìœ ê°’, í•„ìˆ˜)
- `channel`: ì±„ë„ (í•„ìˆ˜, 'amazon_us', 'tiktok_shop', 'shopify' ì¤‘ í•˜ë‚˜)
- `product_name`: ì±„ë„ë³„ ì œí’ˆëª… (ì—†ìœ¼ë©´ `product_master`ì—ì„œ ê°€ì ¸ì˜´)
- `child_asin`: Amazon ì „ìš© ASIN
- `manager`: ë‹´ë‹¹ì
- `contract_type`: ê³„ì•½ í˜•íƒœ
- `profit_sheet_id`: ProfitSheet ID
- `amazon_account_name`: Amazon ê³„ì •ëª…
- `rank`: ìˆœìœ„
- `sales_price`: íŒë§¤ê°€
- `supply_cost_won`: ê³µê¸‰ê°€ (ì›í™”)
- `transportation_mode`: ìš´ì†¡ ë°©ì‹
- `is_brand_representative`: ë¸Œëœë“œ ëŒ€í‘œ ì—¬ë¶€
- `is_account_representative`: ê³„ì • ëŒ€í‘œ ì—¬ë¶€
- `channel_specific_data`: ì±„ë„ë³„ íŠ¹í™” ë°ì´í„° (JSON í˜•ì‹)
- `created_at`, `updated_at`: ìƒì„±/ìˆ˜ì • ì‹œê°„

**íŠ¹ì§•**:
- ê°™ì€ ì œí’ˆ(`internal_code`)ì´ ì—¬ëŸ¬ ì±„ë„ì— ìˆì„ ìˆ˜ ìˆìŒ
- ê° ì±„ë„ë§ˆë‹¤ ë‹¤ë¥¸ SKUë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ
- ì˜ˆ: "PROD-001" â†’ Amazon: "AMZ-PROD-001", TikTok: "TTK-PROD-001"

---

### 3. `sku_monthly_data` (ì›”ë³„ SKU ë°ì´í„° í…Œì´ë¸”)

**ëª©ì **: ê° SKUì˜ ì›”ë³„ íŒë§¤, ì¬ê³ , ë¹„ìš©, ì´ìµ ë“± ìƒì„¸ ë°ì´í„°ë¥¼ ì €ì¥ (ë§¤ì¼ ìë™ ì—…ë°ì´íŠ¸)

**ì£¼ìš” í•„ë“œ**:

#### ê¸°ë³¸ ì •ë³´
- `id`: UUID (ìë™ ìƒì„±)
- `sku`: SKU ë§ˆìŠ¤í„° ì°¸ì¡° (í•„ìˆ˜, `sku_master`ì™€ ì—°ê²°)
- `year`: ì—°ë„ (í•„ìˆ˜)
- `month`: ì›” (í•„ìˆ˜, 1-12)

#### ì¬ê³  ê´€ë ¨
- `fba_inventory`: FBA ì¬ê³ 
- `in_transit_to_fba`: FBA ì´ë™ ì¤‘
- `inbound_working`: ì…ê³  ì‘ì—… ì¤‘
- `inbound_shipped`: ì…ê³  ë°œì†¡ë¨
- `inbound_receiving`: ì…ê³  ìˆ˜ë ¹ ì¤‘
- `reserved_orders`: ì˜ˆì•½ ì£¼ë¬¸
- `reserved_fc_transfer`: FC ì „ì†¡ ì˜ˆì•½
- `reserved_fc_processing`: FC ì²˜ë¦¬ ì˜ˆì•½
- `ocean_to_3pl`: í•´ìƒ ìš´ì†¡ â†’ 3PL
- `in_3pl`: 3PL ì¬ê³ 

#### í™˜ìœ¨ ë° ê³µê¸‰ê°€
- `monthly_exchange_rate`: ì›”ë³„ í™˜ìœ¨
- `supply_cost_usd`: ê³µê¸‰ê°€ (USD)

#### ìˆ˜ìˆ˜ë£Œ (ë‹¨ê°€)
- `fba_fee`: FBA ìˆ˜ìˆ˜ë£Œ
- `referral_fee`: ì¶”ì²œ ìˆ˜ìˆ˜ë£Œ
- `transportation_fee`: ìš´ì†¡ë¹„

#### ê³„ì‚°ëœ ê°’
- `cost`: ì´ ë¹„ìš©
- `margin`: ë§ˆì§„
- `margin_percentage`: ë§ˆì§„ë¥ 

#### íŒë§¤ ìˆ˜ëŸ‰
- `total_order_quantity`: ì´ ì£¼ë¬¸ ìˆ˜ëŸ‰
- `promotion_completed`: í”„ë¡œëª¨ì…˜ ì™„ë£Œ ìˆ˜ëŸ‰
- `mcf_disposal_quantity`: MCF íê¸° ìˆ˜ëŸ‰
- `organic_quantity`: ìì—° ìœ ì… ìˆ˜ëŸ‰
- `mcf_quantity`: MCF ìˆ˜ëŸ‰

#### ë§¤ì¶œ
- `gross_sales`: ì´ ë§¤ì¶œ
- `refunds`: í™˜ë¶ˆì•¡

#### ì´ ìˆ˜ìˆ˜ë£Œ
- `total_fba_fee`: ì´ FBA ìˆ˜ìˆ˜ë£Œ
- `total_referral_fee`: ì´ ì¶”ì²œ ìˆ˜ìˆ˜ë£Œ

#### ê³„ì • ë‹¨ìœ„ ë¹„ìš©
- `fba_inventory_disposals`: FBA ì¬ê³  íê¸°
- `fba_inventory_removals`: FBA ì¬ê³  ì œê±°
- `fba_long_term_storage_fees`: FBA ì¥ê¸° ë³´ê´€ë¹„
- `monthly_subscription_fee`: ì›” êµ¬ë…ë£Œ
- `paid_services_fee`: ìœ ë£Œ ì„œë¹„ìŠ¤ ìˆ˜ìˆ˜ë£Œ
- `monthly_storage_fee`: ì›” ë³´ê´€ë¹„

#### í”„ë¡œëª¨ì…˜ ë¹„ìš©
- `self_promotion_cost`: ìì²´ í”„ë¡œëª¨ì…˜ ë¹„ìš©
- `support_promotion_cost`: ì§€ì› í”„ë¡œëª¨ì…˜ ë¹„ìš©

#### CPC ê´€ë ¨ (ê´‘ê³ )
- `cpc_cost`: CPC ë¹„ìš©
- `cpc_sales`: CPC ë§¤ì¶œ
- `cpc_roas`: CPC ROAS
- `sp_spend`: SP ì§€ì¶œ
- `sp_sales`: SP ë§¤ì¶œ
- `sb_spend`: SB ì§€ì¶œ
- `sb_sales`: SB ë§¤ì¶œ
- `sd_spend`: SD ì§€ì¶œ
- `sd_sales`: SD ë§¤ì¶œ

#### DSP ê´€ë ¨
- `self_dsp_cost`: ìì²´ DSP ë¹„ìš©
- `self_dsp_sales`: ìì²´ DSP ë§¤ì¶œ
- `support_dsp_cost`: ì§€ì› DSP ë¹„ìš©
- `support_dsp_sales`: ì§€ì› DSP ë§¤ì¶œ
- `dsp_roas`: DSP ROAS

#### MCF ë¹„ìš©
- `self_mcf`: ìì²´ MCF
- `support_mcf`: ì§€ì› MCF

#### í‹±í†¡ ë¹„ìš©
- `self_tiktok_cost`: ìì²´ í‹±í†¡ ë¹„ìš©
- `support_tiktok_cost`: ì§€ì› í‹±í†¡ ë¹„ìš©

#### ê¸°íƒ€ ë§ˆì¼€íŒ… ë¹„ìš©
- `affiliate_cost`: ì œíœ´ ë¹„ìš©
- `performance_marketing_cost`: ì„±ê³¼ ë§ˆì¼€íŒ… ë¹„ìš©
- `pulsead_fee`: Pulsead ìˆ˜ìˆ˜ë£Œ
- `self_instagram_cost`: ìì²´ ì¸ìŠ¤íƒ€ê·¸ë¨ ë¹„ìš©

#### ì •ì‚° ë° ì§€ì›ê¸ˆ
- `amazon_settlement`: Amazon ì •ì‚°
- `marketing_support_amount`: ë§ˆì¼€íŒ… ì§€ì›ê¸ˆ

#### ë‹¨ê³„ë³„ ì´ìµ ë° ë¹„ìš© (1ì°¨~14ì°¨)
- `profit_1` ~ `profit_13`, `profit_14_final`: ê° ë‹¨ê³„ë³„ ì´ìµ
- `cost_1` ~ `cost_13`: ê° ë‹¨ê³„ë³„ ë¹„ìš©
- `cost_1_ratio` ~ `cost_13_ratio`: ê° ë‹¨ê³„ë³„ ë¹„ìš© ë¹„ìœ¨
- `support_amount_ratio`: ì§€ì›ê¸ˆ ë¹„ìœ¨

#### ê¸°íƒ€
- `other_revenue`: ê¸°íƒ€ ìˆ˜ìµ
- `daily_sales`: ì¼ë³„ íŒë§¤ëŸ‰ (JSON í˜•ì‹)
- `created_at`, `updated_at`: ìƒì„±/ìˆ˜ì • ì‹œê°„

**íŠ¹ì§•**:
- `(sku, year, month)` ì¡°í•©ì´ ê³ ìœ ê°’
- ë§¤ì¼ Google Sheetsì—ì„œ ë™ê¸°í™”ë˜ì–´ ì—…ë°ì´íŠ¸ë¨

---

## ë·°(View)ë€ ë¬´ì—‡ì¸ê°€?

### ğŸ“– ë·°ì˜ ê°œë…

**ë·°(View)**ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ **ê°€ìƒì˜ í…Œì´ë¸”**ì…ë‹ˆë‹¤.

- **ì‹¤ì œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŒ**: ë·°ëŠ” ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì¼ ë¿, ì‹¤ì œ ë°ì´í„°ëŠ” ì›ë³¸ í…Œì´ë¸”ì— ì €ì¥ë©ë‹ˆë‹¤.
- **ì¿¼ë¦¬ì˜ ë‹¨ì¶•í‚¤**: ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë·°ë¡œ ë§Œë“¤ì–´ë‘ë©´, ë§¤ë²ˆ ê¸´ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ ê°„ë‹¨í•˜ê²Œ `SELECT * FROM view_name`ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìë™ ê³„ì‚°**: ë·°ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°ë˜ë¯€ë¡œ, ì›ë³¸ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ ë·°ì˜ ê²°ê³¼ë„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

### ğŸ¯ ë·°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

1. **ë³µì¡í•œ ì¿¼ë¦¬ ë‹¨ìˆœí™”**: ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ê³  ì§‘ê³„í•˜ëŠ” ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë·°ë¡œ ë§Œë“¤ì–´ ì‰½ê²Œ ì‚¬ìš©
2. **ì„±ëŠ¥ ìµœì í™”**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ì§‘ê³„ ê²°ê³¼ë¥¼ ë·°ë¡œ ë§Œë“¤ì–´ ë¹ ë¥´ê²Œ ì¡°íšŒ
3. **ë³´ì•ˆ**: íŠ¹ì • ì»¬ëŸ¼ë§Œ ë³´ì—¬ì£¼ëŠ” ë·°ë¥¼ ë§Œë“¤ì–´ ë°ì´í„° ì ‘ê·¼ ì œì–´
4. **ì¼ê´€ì„±**: ì—¬ëŸ¬ ê³³ì—ì„œ ê°™ì€ ê³„ì‚° ë¡œì§ì„ ì‚¬ìš©í•  ë•Œ ë·°ë¡œ í†µì¼

### ğŸ“Š í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë·°ë“¤

#### 1. `monthly_summary_by_channel` (ì›”ë³„ ì±„ë„ë³„ ì§‘ê³„ ë·°)

**ëª©ì **: ê° ì±„ë„ë³„ë¡œ ì›”ë³„ ë§¤ì¶œ, ì´ìµ, ìˆ˜ëŸ‰ ë“±ì„ ì§‘ê³„

**ë°ì´í„° ì†ŒìŠ¤**:
- `sku_monthly_data` í…Œì´ë¸”
- `sku_master` í…Œì´ë¸” (ì±„ë„ ì •ë³´)

**ì œê³µí•˜ëŠ” ì •ë³´**:
- `channel`: ì±„ë„ (amazon_us, tiktok_shop, shopify)
- `year`: ì—°ë„
- `month`: ì›”
- `sku_count`: SKU ê°œìˆ˜
- `total_revenue`: ì´ ë§¤ì¶œ
- `total_refunds`: ì´ í™˜ë¶ˆì•¡
- `total_profit`: ì´ ì´ìµ (profit_14_final í•©ê³„)
- `total_quantity`: ì´ ìˆ˜ëŸ‰
- `total_cpc_cost`: ì´ CPC ë¹„ìš©
- `total_cpc_sales`: ì´ CPC ë§¤ì¶œ
- `total_dsp_cost`: ì´ DSP ë¹„ìš©
- `total_dsp_sales`: ì´ DSP ë§¤ì¶œ

**ì‚¬ìš© ì˜ˆì‹œ**:
```sql
-- Amazon USì˜ 2024ë…„ 1ì›” ë°ì´í„° ì¡°íšŒ
SELECT * FROM monthly_summary_by_channel
WHERE channel = 'amazon_us' AND year = 2024 AND month = 1;
```

**ëŒ€ì‹œë³´ë“œì—ì„œ ì‚¬ìš©**: í™ˆ í™”ë©´ì˜ ì›”ë³„ ì°¨íŠ¸, ê° ì±„ë„ë³„ ëŒ€ì‹œë³´ë“œ

---

#### 2. `sku_summary_view` (SKUë³„ ì§‘ê³„ ë·°)

**ëª©ì **: ê° SKUë³„ë¡œ ì „ì²´ ê¸°ê°„ì˜ ë§¤ì¶œ, ì´ìµ, ìˆ˜ëŸ‰ ë“±ì„ ì§‘ê³„

**ë°ì´í„° ì†ŒìŠ¤**:
- `sku_monthly_data` í…Œì´ë¸”
- `sku_master` í…Œì´ë¸” (ì œí’ˆëª…, ë¸Œëœë“œëª… ë“±)

**ì œê³µí•˜ëŠ” ì •ë³´**:
- `sku`: SKU ì½”ë“œ
- `product_name`: ì œí’ˆëª…
- `channel`: ì±„ë„
- `brand_name`: ë¸Œëœë“œëª…
- `company_name`: íšŒì‚¬ëª…
- `total_revenue`: ì´ ë§¤ì¶œ (ì „ì²´ ê¸°ê°„ í•©ê³„)
- `total_profit`: ì´ ì´ìµ (ì „ì²´ ê¸°ê°„ í•©ê³„)
- `total_quantity`: ì´ ìˆ˜ëŸ‰ (ì „ì²´ ê¸°ê°„ í•©ê³„)
- `avg_margin_percentage`: í‰ê·  ë§ˆì§„ë¥ 

**ì‚¬ìš© ì˜ˆì‹œ**:
```sql
-- ë§¤ì¶œ ìƒìœ„ 10ê°œ SKU ì¡°íšŒ
SELECT * FROM sku_summary_view
ORDER BY total_revenue DESC
LIMIT 10;
```

**ëŒ€ì‹œë³´ë“œì—ì„œ ì‚¬ìš©**: SKUë³„ ìƒì„¸ í…Œì´ë¸”, ì œí’ˆë³„ ì„±ê³¼ ë¶„ì„

---

#### 3. `product_sku_mapping` (ì œí’ˆ-SKU ë§¤í•‘ ë·°)

**ëª©ì **: ì œí’ˆ ë§ˆìŠ¤í„°ì™€ SKU ë§ˆìŠ¤í„°ë¥¼ ì—°ê²°í•˜ì—¬ í•œëˆˆì— ë³´ê¸°

**ë°ì´í„° ì†ŒìŠ¤**:
- `product_master` í…Œì´ë¸”
- `sku_master` í…Œì´ë¸”

**ì œê³µí•˜ëŠ” ì •ë³´**:
- `internal_code`: ë‚´ë¶€ ì œí’ˆ ì½”ë“œ
- `product_name`: ì œí’ˆëª…
- `company_name`: íšŒì‚¬ëª…
- `brand_name`: ë¸Œëœë“œëª…
- `sku`: SKU ì½”ë“œ
- `channel`: ì±„ë„
- `child_asin`: Amazon ASIN
- `amazon_account_name`: Amazon ê³„ì •ëª…
- `sales_price`: íŒë§¤ê°€
- `supply_cost_won`: ê³µê¸‰ê°€
- `transportation_mode`: ìš´ì†¡ ë°©ì‹

**ì‚¬ìš© ì˜ˆì‹œ**:
```sql
-- íŠ¹ì • ì œí’ˆì˜ ëª¨ë“  ì±„ë„ë³„ SKU ì¡°íšŒ
SELECT * FROM product_sku_mapping
WHERE internal_code = 'PROD-001';
```

**ëŒ€ì‹œë³´ë“œì—ì„œ ì‚¬ìš©**: ì œí’ˆ ê´€ë¦¬ í˜ì´ì§€, ì œí’ˆë³„ ì±„ë„ í˜„í™©

---

## ë°ì´í„° íë¦„

### 1. ë°ì´í„° ì…ë ¥ íë¦„

```
ì‚¬ìš©ì ì…ë ¥
    â†“
product_master (ì œí’ˆ ë§ˆìŠ¤í„° ì¶”ê°€)
    â†“
sku_master (ì±„ë„ë³„ SKU ì¶”ê°€)
    â†“
Google Sheets (ì›”ë³„ ë°ì´í„°)
    â†“
API ë™ê¸°í™” (/api/sync)
    â†“
sku_monthly_data (ì›”ë³„ ë°ì´í„° ì €ì¥)
```

### 2. ë°ì´í„° ì¡°íšŒ íë¦„

```
ëŒ€ì‹œë³´ë“œ ìš”ì²­
    â†“
ë·°(View) ì‚¬ìš©
    â†“
monthly_summary_by_channel (ì›”ë³„ ì§‘ê³„)
sku_summary_view (SKUë³„ ì§‘ê³„)
product_sku_mapping (ì œí’ˆ-SKU ë§¤í•‘)
    â†“
ì›ë³¸ í…Œì´ë¸”ì—ì„œ ì‹¤ì‹œê°„ ê³„ì‚°
    â†“
ê²°ê³¼ ë°˜í™˜
```

---

## ê´€ê³„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  product_master     â”‚
â”‚  (ì œí’ˆ ë§ˆìŠ¤í„°)      â”‚
â”‚                     â”‚
â”‚  - internal_code    â”‚â—„â”€â”€â”€â”€â”€â”
â”‚  - product_name     â”‚      â”‚
â”‚  - barcode          â”‚      â”‚
â”‚  - brand_name       â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                              â”‚
                              â”‚ ì°¸ì¡° (1:N)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  sku_master         â”‚      â”‚
â”‚  (SKU ë§ˆìŠ¤í„°)       â”‚      â”‚
â”‚                     â”‚      â”‚
â”‚  - sku (PK)         â”‚      â”‚
â”‚  - internal_code    â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚  - channel          â”‚
â”‚  - product_name     â”‚
â”‚  - child_asin       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ ì°¸ì¡° (1:N)
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sku_monthly_data   â”‚
â”‚  (ì›”ë³„ ë°ì´í„°)      â”‚
â”‚                     â”‚
â”‚  - sku (FK)         â”‚
â”‚  - year, month      â”‚
â”‚  - gross_sales      â”‚
â”‚  - profit_14_final  â”‚
â”‚  - ...              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë·°(View) ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ì›”ë³„ ë§¤ì¶œ ì¡°íšŒ

**ë·° ì‚¬ìš© (ê°„ë‹¨)**:
```sql
SELECT * FROM monthly_summary_by_channel
WHERE channel = 'amazon_us'
ORDER BY year DESC, month DESC;
```

**ë·° ì—†ì´ ì§ì ‘ ì¿¼ë¦¬ (ë³µì¡)**:
```sql
SELECT 
  sm.channel,
  smd.year,
  smd.month,
  COUNT(DISTINCT smd.sku) AS sku_count,
  SUM(smd.gross_sales) AS total_revenue,
  SUM(smd.profit_14_final) AS total_profit,
  SUM(smd.total_order_quantity) AS total_quantity
FROM sku_monthly_data smd
JOIN sku_master sm ON smd.sku = sm.sku
WHERE sm.channel = 'amazon_us'
GROUP BY sm.channel, smd.year, smd.month
ORDER BY smd.year DESC, smd.month DESC;
```

### ì˜ˆì‹œ 2: SKUë³„ ì„±ê³¼ ì¡°íšŒ

**ë·° ì‚¬ìš©**:
```sql
SELECT * FROM sku_summary_view
WHERE channel = 'amazon_us'
ORDER BY total_revenue DESC
LIMIT 10;
```

---

## ìš”ì•½

### í…Œì´ë¸” (ì‹¤ì œ ë°ì´í„° ì €ì¥)
1. **`product_master`**: ì œí’ˆ ê¸°ë³¸ ì •ë³´ (Internal Code ê¸°ì¤€)
2. **`sku_master`**: ì±„ë„ë³„ SKU ì •ë³´
3. **`sku_monthly_data`**: ì›”ë³„ ìƒì„¸ ë°ì´í„° (ë§¤ì¶œ, ë¹„ìš©, ì´ìµ ë“±)

### ë·° (ê°€ìƒ í…Œì´ë¸”, ìë™ ê³„ì‚°)
1. **`monthly_summary_by_channel`**: ì›”ë³„ ì±„ë„ë³„ ì§‘ê³„
2. **`sku_summary_view`**: SKUë³„ ì „ì²´ ê¸°ê°„ ì§‘ê³„
3. **`product_sku_mapping`**: ì œí’ˆ-SKU ë§¤í•‘ ì •ë³´

### í•µì‹¬ ê°œë…
- **ë·°(View)**: ë³µì¡í•œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ê°„ë‹¨í•˜ê²Œ ë³´ì—¬ì£¼ëŠ” ê°€ìƒ í…Œì´ë¸”
- **ì‹¤ì‹œê°„ ê³„ì‚°**: ì›ë³¸ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ ë·° ê²°ê³¼ë„ ìë™ ì—…ë°ì´íŠ¸
- **ì„±ëŠ¥ ìµœì í™”**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ì§‘ê³„ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ ì¡°íšŒ

